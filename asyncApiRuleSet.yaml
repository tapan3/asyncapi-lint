extends: "spectral:asyncapi"
functionsDir: ./src/functions
functions:
    - fieldLength
formats:
    - asyncapi2
rules:
    valid-field-length:
        message: description should have valid length
        severity: warn
        given: $.info.description
        then:
            function: fieldLength
            functionOptions:
                min: 30
    valid-document-version:
        message: Version should match 1.x.x
        severity: warn
        given: $.info
        then:
            - 
                field: version
                function: defined
            - 
                field: version
                function: pattern
                functionOptions:
                    match: "^1(\\.[0-9]+){2}$"
